rules_version = '2';

service cloud.firestore {
  match /databases/{database}/documents {
    // Allow anyone to read and write to games collection
    match /games/{gameId} {
      allow read, write: if true;
    }
    
    // Allow anyone to read and write to questions collection
    match /questions/{questionId} {
      allow read, write: if true;
    }
    
    // Allow anyone to read high scores, but only write with validation
    match /highScores/{scoreId} {
      allow read: if true;
      allow write: if request.resource.data.code is string &&
                   request.resource.data.code.size() == 3 &&
                   request.resource.data.score is number &&
                   request.resource.data.sport is string;
    }
  }
} 